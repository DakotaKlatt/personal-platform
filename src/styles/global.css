/* Design system: dakotaklatt.com
   - Light/dark via .dark on html
   - Spacing rhythm, typography scale, accent
   - prefers-reduced-motion respected
*/

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Typography */
    --font-sans: 'DM Sans', system-ui, -apple-system, sans-serif;
    --font-display: 'Instrument Sans', var(--font-sans);

    /* Light theme */
    --color-bg: #fafaf9;
    --color-text: #1c1917;
    --color-text-muted: #57534e;
    --color-accent: #0d9488;
    --color-accent-muted: #0f766e;
    --color-surface: #ffffff;
    --color-surface-elevated: #f5f5f4;
    --color-border: #e7e5e4;

    /* Spacing rhythm (8px base) */
    --space-section: clamp(4rem, 10vw, 6rem);
    --space-block: clamp(1.5rem, 4vw, 2.5rem);

    /* Motion */
    --motion-duration: 0.35s;
    --motion-ease: cubic-bezier(0.4, 0, 0.2, 1);
  }

  .dark {
    --color-bg: #0c0a09;
    --color-text: #fafaf9;
    --color-text-muted: #a8a29e;
    --color-accent: #2dd4bf;
    --color-accent-muted: #5eead4;
    --color-surface: #1c1917;
    --color-surface-elevated: #292524;
    --color-border: #44403c;
  }

  @media (prefers-reduced-motion: reduce) {
    :root {
      --motion-duration: 0.01ms;
    }
  }

  html {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }

  body {
    background-color: var(--color-bg);
    color: var(--color-text);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Focus visible for keyboard nav */
  :focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }

  /* Selection */
  ::selection {
    background: var(--color-accent-muted);
    color: var(--color-bg);
  }
}

@layer components {
  .prose-custom {
    @apply text-[color:var(--color-text)];
  }
  .prose-custom p {
    @apply mb-4 text-[color:var(--color-text-muted)];
  }
  .prose-custom strong {
    @apply text-[color:var(--color-text)] font-semibold;
  }
  .prose-custom ul, .prose-custom ol {
    @apply mb-4 pl-6 text-[color:var(--color-text-muted)];
  }
  .prose-custom li {
    @apply mb-1;
  }
  .prose-custom h2 {
    @apply mt-8 mb-4 text-display-md font-display font-semibold text-[color:var(--color-text)];
  }
  .prose-custom h3 {
    @apply mt-6 mb-3 text-lg font-semibold text-[color:var(--color-text)];
  }
  .prose-custom a {
    @apply text-accent underline underline-offset-2 hover:no-underline transition-colors duration-200;
  }
  .prose-custom code {
    @apply px-1.5 py-0.5 rounded text-sm bg-[var(--color-surface-elevated)] font-mono;
  }
  .prose-custom pre {
    @apply p-4 rounded-lg overflow-x-auto bg-[var(--color-surface-elevated)] my-4;
  }
  .prose-custom pre code {
    @apply p-0 bg-transparent;
  }
}

/* Skip link: visible on focus for keyboard users */
.skip-link {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
.skip-link:focus {
  position: fixed;
  top: 0.5rem;
  left: 0.5rem;
  z-index: 100;
  width: auto;
  height: auto;
  padding: 0.5rem 1rem;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
  background: var(--color-accent);
  color: white;
  border-radius: 0.5rem;
  font-weight: 500;
}
